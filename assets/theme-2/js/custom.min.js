// // Script for sticky header

// $(window).scroll(function() {
//     if ($(this).scrollTop() > 1) {
//         $('header').addClass("sticky");
//     } else {
//         $('header').removeClass("sticky");
//     }
// });

// Script for Counter
$(document).ready(function () {
    $('.minus').click(function () {
        var $input = $(this).parent().find('input[name="quantity[]"]');
        var count = parseInt($input.val()) - 1;
        count = count < 1 ? 1 : count;
        $input.val(count);
        $input.change();
        return false;
    });
    $('.plus').click(function () {
        var $input = $(this).parent().find('input[name="quantity[]"]');
        $input.val(parseInt($input.val()) + 1);
        $input.change();
        return false;
    });
});


// Script for WOW Animation Initialize
new WOW().init();

// Script for Product Carousel
$('.productSlider').slick({
    autoplay: true,
    autoplaySpeed: 5000,
    dots: false,
    arrows: true,
    infinite: true,
    slidesToShow: 4,
    slidesToScroll: 1,
    prevArrow: '<button type="button" class="slick-prev"><i class="fas fa-chevron-left"></i></button>',
    nextArrow: '<button type="button" class="slick-next"><i class="fas fa-chevron-right"></i></button>',
    responsive: [{
        breakpoint: 1199,
        settings: {
            slidesToShow: 3
        }
    },
    {
        breakpoint: 768,
        settings: {
            slidesToShow: 2,
            arrows: false
        }
    },
    {
        breakpoint: 575,
        settings: {
            slidesToShow: 1,
            arrows: false
        }
    }
    ]
});

$('.slider-for').slick({
    // autoplay: true,
    // autoplaySpeed: 3000,
    slidesToShow: 1,
    slidesToScroll: 1,
    arrows: false,
    fade: true,
    asNavFor: '.slider-nav'
});
$('.slider-nav').slick({
    // autoplay: true,
    // autoplaySpeed: 3000,
    slidesToShow: 4,
    slidesToScroll: 1,
    vertical: true,
    asNavFor: '.slider-for',
    dots: false,
    arrows: false,
    focusOnSelect: true,
    verticalSwiping: true,
    responsive: [{
        breakpoint: 575,
        settings: {
            slidesToShow: 2,
            arrows: false
        }
    }]
});

// Page RoleBack to Top
$(document).ready(function () {
    $('.roleback').click(function () {
        $("html, body").animate({ scrollTop: 0 }, 800);
        return false;
    });
});

// Go Down
$(function () {
    $('.goDown').on('click', function (e) {
        e.preventDefault();
        $('html, body').animate({
            scrollTop: $(".aboutSec").offset().top
        }, 500, 'linear');
    });
});

// Search Box Open
$('.openSearch').click(function () {
    $(".searchBox").slideDown();
})
$('.searchClose').click(function () {
    $(".searchBox").slideUp();
})

// scroll
$(".scrollable").mCustomScrollbar({
    theme: "inset-dark",
    scrollButtons: { enable: true }
});


function inVisible(element) {
  //Checking if the element is
  //visible in the viewport
  var WindowTop = $(window).scrollTop();
  var WindowBottom = WindowTop + $(window).height();
  var ElementTop = element.offset().top;
  var ElementBottom = ElementTop + element.height();
  //animating the element if it is
  //visible in the viewport
  if ((ElementBottom <= WindowBottom) && ElementTop >= WindowTop)
    animate(element);
}

function animate(element) {
  if (!element.hasClass('ms-animated')) {
    var maxval = element.data('max');
    var html = element.html();
    element.addClass("ms-animated");
    $({
      countNum: element.html()
    }).animate({
      countNum: maxval
    }, {
      
      duration: 2000,
      easing: 'linear',
      step: function() {
        element.html(Math.floor(this.countNum) + html);
      },
      complete: function() {
        element.html(this.countNum + html);
      }
    });
  }

}

//When the document is ready
$(function() {
  //This is triggered when the
  //user scrolls the page
  $(window).scroll(function() {
    //Checking if each items to animate are 
    //visible in the viewport
    $("span[data-max]").each(function() {
      inVisible($(this));
    });
  })
});



  $('#stars li').on('click', function(){
    var onStar = parseInt($(this).data('value'), 10); // The star currently selected
    var stars = $(this).parent().children('li.star');
    
    for (i = 0; i < stars.length; i++) {
      $(stars[i]).removeClass('selected');
    }
    
    for (i = 0; i < onStar; i++) {
      $(stars[i]).addClass('selected');
    }
    
    // JUST RESPONSE (Not needed)
    var ratingValue = parseInt($('#stars li.selected').last().data('value'), 10);
    var msg = "";
    if (ratingValue > 1) {
        msg = "Thanks! You rated this " + ratingValue + " stars.";
    }
    else {
        msg = "We will improve ourselves. You rated this " + ratingValue + " stars.";
    }
    responseMessage(msg);
    
  });
  
  



function responseMessage(msg) {
  $('.success-box').fadeIn(200);  
  $('.success-box div.text-message').html("<span>" + msg + "</span>");
}